---
layout: post
title: èƒŒåŒ…DP
subtitle: å¥‡å¥‡æ€ªæ€ªçš„DPæ¨¡å‹ğŸ¤”
categories: åŠ¨æ€è§„åˆ’
tags: [åŠ¨æ€è§„åˆ’]
---

<head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
	<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
	</style>
        <style>
		.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
	</style>
</head>
<body class="vscode-body vscode-light">
        <p>{{TOC}}</p>
<h2 id="å®šä¹‰">å®šä¹‰</h2>
<p>èƒŒåŒ…é—®é¢˜æ˜¯DPçš„<span style="color: red;">ç»å…¸æ¨¡å‹</span><br>
ä¸€èˆ¬ä¼šç»™å®šèƒŒåŒ…çš„ä¸€äº›å±æ€§ã€ä¸€äº›ç‰©å“å’Œè¿™äº›ç‰©å“çš„ä¸€äº›å±æ€§<br>
<mark>è¯¢é—®é’ˆå¯¹æŸäº›ç‰©å“çš„å±æ€§ï¼Œåœ¨èƒŒåŒ…å¯¹åº”å±æ€§çš„çº¦æŸä¸‹ï¼Œå‡ºç°çš„ä¸€äº›æœ€å€¼æƒ…å†µ</mark></p>
<p>èƒŒåŒ…å¸¸è€ƒç§ç±»ï¼š<span style="color: red;">01èƒŒåŒ…</span>ã€å®Œå…¨èƒŒåŒ…ã€å¤šé‡èƒŒåŒ…ã€ç²¾å‡†è£…æ»¡çš„èƒŒåŒ…ã€åˆ†ç»„èƒŒåŒ…ã€äºŒç»´è´¹ç”¨èƒŒåŒ…ã€æ··åˆèƒŒåŒ…ã€æœ‰ä¾èµ–æ€§ç‰©å“çš„èƒŒåŒ…ã€ç‰©å“æ³›åŒ–ä»·å€¼çš„èƒŒåŒ….<br>
<span style="color: red;">ä»¥01èƒŒåŒ…ä¸ºä¸»ä½“</span>ï¼Œå…¶ä»–èƒŒåŒ…åœ¨å­é—®é¢˜ã€çŠ¶æ€ã€è½¬ç§»æ–¹ç¨‹ä¸Šå¤§åŒå°å¼‚</p>
<h2 id="01èƒŒåŒ…">01èƒŒåŒ…</h2>
<p><mark>01èƒŒåŒ…æ˜¯æœ€ä¸ºç®€å•çš„èƒŒåŒ…ï¼Œä½†ä¹Ÿæ˜¯æœ€ä¸ºé‡è¦çš„èƒŒåŒ…ï¼Œæ˜¯ä½œä¸ºæ‰€æœ‰èƒŒåŒ…ç±»å‹çš„ä¸€ä¸ªåŸºç¡€</mark></p>
<h3 id="æ¨¡å‹">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œè¿™äº›ç‰©å“<span style="color: red;">åªæœ‰æ‹¿æˆ–è€…ä¸æ‹¿ä¸¤ç§æƒ…å†µ</span><br>
é—®æœ€å¤šä½¿èƒŒåŒ…å®¹çº³ä¸‹å¤šå°‘ä»·å€¼çš„ç‰©å“</p>
<h3 id="å­é—®é¢˜">å­é—®é¢˜</h3>
<p>é‡ä¸Šäº†ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mtext>ä½“ç§¯ï¼Œä»·å€¼</mtext><mo stretchy="false">}</mo><mo>=</mo><mo stretchy="false">{</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{ä½“ç§¯ï¼Œ ä»·å€¼\} = \{v[i], w[i]\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord cjk_fallback">ä½“ç§¯ï¼Œä»·å€¼</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]}</span></span></span></span> çš„ç‰©å“ï¼Œæ­¤æ—¶èƒŒåŒ…å‰©ä½™ä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span><br>
é‚£ä¹ˆå­é—®é¢˜åˆ™æ˜¯ï¼šåœ¨æ‹¿è¿™ä¸ªç‰©å“ä¹‹å‰ï¼ˆä¹Ÿå°±æ˜¯ä½“ç§¯&quot; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>âˆ’</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">V-v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> æˆ–è€… <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> &quot;ï¼‰çš„èƒŒåŒ…åœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¹‹å‰çš„ç‰©å“ä¸­æ‹¿åˆ°çš„æœ€å¤§æ€»ä»·å€¼ã€‚</p>
<h3 id="çŠ¶æ€">çŠ¶æ€</h3>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> è¡¨ç¤ºåœ¨å‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¸ªç‰©å“ä¸­ï¼Œç”¨å®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> çš„èƒŒåŒ…å­˜æ”¾æœ€å¤šèƒ½å­˜æ”¾å¤šå°‘ä»·å€¼</p>
<h3 id="è½¬ç§»æ–¹ç¨‹">è½¬ç§»æ–¹ç¨‹</h3>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.1600em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>j</mi><mo>&lt;</mo><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo>âˆ’</mo><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo>+</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>j</mi><mo>â‰¥</mo><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">dp[i][j]=
  \left\{\begin{matrix} 
   dp[i-1][j],&amp;j\lt w[i]\\
   max(dp[i-1][j],dp[i-1][j-w[i]]+v[i]),&amp;j\ge w[i]
\end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mpunct">,</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">])</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h3 id="å¤„ç†æ–¹å¼">å¤„ç†æ–¹å¼</h3>
<p>å¾ªç¯æœ€å¤–å±‚æŒ‰é¡ºåºæšä¸¾ç‰©å“ï¼Œè¡¨ç¤ºè¿™æ˜¯å‰å‡ ä¸ªç‰©å“ï¼Œä¸ºç¬¬ä¸€ç»´ä¿¡æ¯ã€‚<br>
æœ€å†…å±‚<span style="color: red;">å€’åº</span>(é˜²æ­¢å‡ºç°ä¸€ä¸ªç‰©å“å› æ€§ä»·æ¯”é«˜åœ¨ä¸€è½®é‡Œé¢ä½¿ç”¨å¤šæ¬¡çš„æƒ…å†µ)æšä¸¾å®¹ç§¯ã€‚</p>
<blockquote>
<p>è®¾æœ‰4æ ·ç‰©å“ï¼Œåœ¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">{v[i], w[i]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></span> çš„æ ¼å¼ä¸‹åˆ†åˆ«ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mn>1</mn><mo separator="true">,</mo><mn>1</mn></mrow><mo separator="true">,</mo><mrow><mn>4</mn><mo separator="true">,</mo><mn>10</mn></mrow><mo separator="true">,</mo><mrow><mn>5</mn><mo separator="true">,</mo><mn>4</mn></mrow><mo separator="true">,</mo><mrow><mn>3</mn><mo separator="true">,</mo><mn>7</mn></mrow></mrow><annotation encoding="application/x-tex">{1,1},{4,10},{5,4},{3,7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">10</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">7</span></span></span></span></span> ,æœ‰èƒŒåŒ…å®¹ç§¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">V=10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">10</span></span></span></span> ï¼Œé—®è£…è½½æœ€å¤§ä»·å€¼</p>
</blockquote>
<table>
	<tr>
		<th>id\V</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th>
	</tr>
	<tr>
		<th>1</th><td>0</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td>
	</tr>
	<tr>
		<th>2</th><td>0</td><td>1</td><td>1</td><td>1</td><td>10</td><td>11</td><td>11</td><td>11</td><td>11</td><td>11</td><td>11</td>
	</tr>
	<tr>
		<th>3</th><td>0</td><td>1</td><td>1</td><td>1</td><td>10</td><td>11</td><td>11</td><td>11</td><td>11</td><td>14</td><td>15</td>
	</tr>
	<tr>
		<th>4</th><td>0</td><td>1</td><td>1</td><td>7</td><td>8</td><td>8</td><td>8</td><td>17</td><td>18</td><td>18</td><td>18</td>
	</tr>
</table>
<h3 id="ç¨‹åº">ç¨‹åº</h3>
<pre><code><code><div>const int maxV = 1000, maxn = 10000;
int dp[maxV][maxn]

for ( int i = 1; i &lt;= n; i ++ ) {
	for ( int j = V; j &gt;= v[i]; j -- ) {
		dp[i][j] = MAX(dp[i - 1][j], dp[i - 1][j - v[i]] + w[i]);
	}
}
</div></code></code></pre>
<p><br><span style="color: red;">Questionï¼š</span>å¦‚æœç‰©å“è¾ƒå¤šï¼Œä½“ç§¯è¾ƒå¤§ï¼Œä¸¤è€…åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„å†…å ç©ºé—´ä¸ä¼šå°‘ï¼Œé‚£ä¹ˆå¦‚ä½•ä¼˜åŒ–ç©ºé—´å‘¢ï¼Ÿ<br>
<span style="color: red;">Answer:</span>ä½¿ç”¨æ»šåŠ¨æ•°ç»„<br><br>
åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> ä¼¼ä¹åªä½œç”¨äºä¿å­˜ä¸Šä¸€æ¬¡å†…å¾ªç¯çš„ç»“æœï¼Œè€Œå¯ä»¥çœ‹ä½œæ— å®é™…æ„ä¹‰ï¼Œä½†æ˜¯ä¸Šä¸€æ¬¡å†…å±‚å¾ªç¯çš„ç»“æœåœ¨æœ¬æ¬¡æ”¹å˜ä¹‹å‰æ˜¯ä¸ä¼šåŠ¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥èˆå»è¿™ä¸€ç»´å»è¿›è¡Œå¾ªç¯</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxV = <span class="hljs-number">1000</span>;
<span class="hljs-keyword">int</span> dp[maxV];

<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) {
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = V; j &gt;= v[i]; j -- ) {
		dp[j] = MAX(dp[j], dp[j - v[i]] + w[i]);
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720090230837.png); height: 800px; width: 730px;border-radius:15px;" href="https://vjudge.net/contest/447638#problem/M"> </a>
<br><br>
æ”¹äº†ä¸€ç‚¹ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªè®°å½•ä¿¡æ¯çš„01èƒŒåŒ…<br>
æ€»éŸ³è½¨æ˜¯ä½“ç§¯ï¼Œæ¯ä¸ªç£å¸¦çš„minusæ˜¯ä½“ç§¯ä¹Ÿæ˜¯ä»·å€¼<br>
å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé—®é¢˜è®¾ä¸ºï¼š<span style="color:red;">è¦æ±‚æœ€å¤§ä»·å€¼ï¼Œé¡ºä¾¿è®°å½•ä¸€ä¸‹å†…å®¹</span>ã€‚<br>
é‚£ä¹ˆå¯ä»¥å¼€ä¸€ä¸ª <code>pair<vector<int>, int>dp[N]</code> ç”¨æ¥è¡¨ç¤ºdpä¿¡æ¯ï¼Œå…¶ä¸­å‰é¢çš„è¡¨ç¤ºå†…éƒ¨ç‰©å“ï¼Œåé¢æ˜¯ä¸Šæ–‡ä¸­dpå‡ºçš„æœ€å¤§ä»·å€¼<br>
åœ¨æ›´æ–°çš„æ—¶å€™ï¼Œæ¯”è¾ƒåªéœ€è¦è·Ÿä»¥å‰ä¸€æ ·æ‹¿åé¢çš„æ•°è¿›è¡Œæ¯”è¾ƒï¼Œè€Œæ›´æ–°çš„æ—¶å€™éœ€è¦firstã€secondä¸€èµ·æ›´æ–°</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">10000</span>;
<span class="hljs-built_in">pair</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;, <span class="hljs-keyword">int</span>&gt; dp[N];
<span class="hljs-keyword">int</span> n, num, minutes[N]; <span class="hljs-comment">// è¿™é‡Œä½“ç§¯ç­‰äºä»·å€¼ç­‰äºminutes[i]</span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">while</span> ( <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;num) == <span class="hljs-number">2</span> ) {
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i ++ ) dp[i] = {{}, <span class="hljs-number">0</span>}; <span class="hljs-comment">//åˆå§‹åŒ–</span>
                
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; num; i ++ ) minutes[i] = inputInt(); 
                
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; num; i ++ ) {
                        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = n; j &gt;= minutes[i]; j -- ) {
                                <span class="hljs-keyword">if</span> ( dp[j].second &lt; dp[j - minutes[i]].second + minutes[i] ) <span class="hljs-comment">//æœ´ç´ çš„æ¯”è¾ƒ</span>
                                        dp[j] = dp[j - minutes[i]],
                                        dp[j].first.push_back(minutes[i]),
                                        dp[j].second += minutes[i]; <span class="hljs-comment">//ä¸€èµ·æ›´æ–°</span>
                        }
                }
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; dp[n].first.size(); i ++, <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27; &#x27;</span>) ) outInt(dp[n].first[i]);
                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum:%d\n&quot;</span>, dp[n].second);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="å®Œå…¨èƒŒåŒ…">å®Œå…¨èƒŒåŒ…</h2>
<h3 id="æ¨¡å‹-1">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œè¿™äº›ç‰©å“<span style="color: red;">å¯ä»¥æ‹¿ä»»æ„ä¸ª</span><br>
é—®æœ€å¤šä½¿èƒŒåŒ…å®¹çº³ä¸‹å¤šå°‘ä»·å€¼çš„ç‰©å“</p>
<h3 id="å¤„ç†æ–¹å¼-1">å¤„ç†æ–¹å¼</h3>
<p>å¾ªç¯æœ€å¤–å±‚æŒ‰é¡ºåºæšä¸¾ç‰©å“ï¼Œè¡¨ç¤ºè¿™æ˜¯å‰å‡ ä¸ªç‰©å“ï¼Œä¸ºç¬¬ä¸€ç»´ä¿¡æ¯ã€‚<br>
æœ€å†…å±‚<span style="color: red;">æ­£åº</span>(éœ€è¦å‡ºç°ä¸€ä¸ªç‰©å“å› æ€§ä»·æ¯”é«˜åœ¨ä¸€è½®é‡Œé¢ä½¿ç”¨å¤šæ¬¡çš„æƒ…å†µ)æšä¸¾å®¹ç§¯ã€‚</p>
<h3 id="ç¨‹åº-1">ç¨‹åº</h3>
<pre><code class="language-cpp"><div><span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) {
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = v[i]; j &lt;= V; j ++ ) {
		dp[j] = MAX(dp[j], dp[j - v[i] + w[i]);
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜-1">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720093102465.png); height: 900px; width: 1000px;border-radius:15px;" href="http://acm.hdu.edu.cn/showproblem.php?pid=1248"> </a>
<br><br>
æ­¤æ—¶èƒŒåŒ…ä½“ç§¯ä¸ºéª‘å£«å¸¦çš„é’±æ•°ï¼Œä¸‰ç§è¯ç“¶çš„èŠ±è´¹æ—¢æ˜¯ä½“ç§¯ä¹Ÿæ˜¯ä»·å€¼<br>
å…¶ä½™çš„å°±æ˜¯åŸºæœ¬çš„å®Œå…¨èƒŒåŒ…æ¨¡æ¿</p>
<pre><code><code><div>const int N = 11000;
int dp[N];
int a[3] = {150, 200, 350};

int main(){
        int cass;
        for( cass = inputInt(); cass; cass -- ) {
                MEM(dp, 0); int V = inputInt();
                for ( int i = 0; i &lt; 3; i ++ ) {
                        for ( int j = a[i]; j &lt;= V; j ++) { 
                                dp[j] = MAX(dp[j], dp[j - a[i]] + a[i]);
                        }
                }
                outInt(V - dp[V]); puts(&quot;&quot;);
        }
        return 0;
}
</div></code></code></pre>
<h2 id="å¤šé‡èƒŒåŒ…">å¤šé‡èƒŒåŒ…</h2>
<h3 id="å‰ç½®çŸ¥è¯†-äºŒè¿›åˆ¶æ‹†åˆ†">å‰ç½®çŸ¥è¯†-äºŒè¿›åˆ¶æ‹†åˆ†</h3>
<blockquote>
<p><span style="color: red;">åˆç†æ€§ï¼š</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> ä» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â†’</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1\rightarrow n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•´æ•°æ¬¡å¹‚ä¸­é€‰è‹¥å¹²ä¸ªç›¸åŠ ï¼Œå¯ä»¥è¡¨ç¤ºå‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â†’</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\rightarrow 2^{n+1}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> è¿™äº›æ•´æ•°</p>
</blockquote>
<p>äºŒè¿›åˆ¶æ‹†åˆ†æ˜¯ä¸€ç§åˆç†åˆ†é…ç‰©å“çš„æ‰‹æ®µï¼Œæœ‰æ•ˆé¿å…äº†ä¸€ä¸ªä¸ªåˆ†é…çš„é«˜å¤æ‚åº¦<br>
<mark>é€šè¿‡äºŒè¿›åˆ¶æ‹†åˆ†æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªå›ºå®šå¾ˆå¤§æ•°é‡çš„ç‰©å“åœ¨å¾ˆå¿«çš„é€Ÿåº¦ä¸‹åˆ†æˆä¸€å—å—ç‹¬ç«‹çš„å°01èƒŒåŒ…ç‰©å“</mark></p>
<p>åˆå¹¶ä¸­çš„ä¸ªæ•°æŒ‰é¡ºåºä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>0</mn></msup><mo separator="true">,</mo><mtext>â€…â€Š</mtext><msup><mn>2</mn><mn>1</mn></msup><mo separator="true">,</mo><mtext>â€…â€Š</mtext><msup><mn>2</mn><mn>2</mn></msup><mtext>â€…â€Š</mtext><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mtext>â€…â€Š</mtext><msup><mn>2</mn><mi>k</mi></msup><mo separator="true">,</mo><mtext>â€…â€Š</mtext><msup><mn>2</mn><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mtext>â€…â€Š</mtext><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">2^0,\;2^1,\;2^2\;....\;2^k,\;2^{k+1},\;...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.043548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">....</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">...</span></span></span></span><br>
åœ¨æ— æ³•å®Œæ•´æ‹†åˆ†ä¸ºä¸€æ•´å—äºŒæ¬¡å¹‚æ•°é‡æ—¶åœæ­¢ï¼Œå¹¶å°†å‰©ä¸‹çš„è¿™äº›ç‰©å“è‡ªå·±åˆå¹¶ä¸ºä¸€å—<br>
ä¾‹ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mo>â†’</mo><mn>1</mn><mo separator="true">,</mo><mtext>â€…â€Š</mtext><mn>2</mn><mo separator="true">,</mo><mtext>â€…â€Š</mtext><mn>4</mn><mo separator="true">,</mo><mtext>â€…â€Š</mtext><mn>8</mn><mo separator="true">,</mo><mtext>â€…â€Š</mtext><mn>5</mn></mrow><annotation encoding="application/x-tex">20\rightarrow1,\;2,\;4,\;8,\;5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span></span></span></span></p>
<pre><code class="language-cpp"><div><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; V, W; <span class="hljs-comment">//æ‹†åˆ†åæ¯ä¸€å—çš„ç‰©å“å’Œä»·å€¼</span>
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">manage</span> <span class="hljs-params">( <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w )</span> </span>{ <span class="hljs-comment">// ä¸ªæ•°ï¼Œä½“ç§¯ï¼Œä»·å€¼</span>
	<span class="hljs-keyword">int</span> t = <span class="hljs-number">1</span>; <span class="hljs-comment">// æ‹†åˆ°çš„å—ä¸€å—åŒ…å«çš„ç‰©å“æ•°</span>
	<span class="hljs-keyword">while</span>(x &gt;= t){
		V.push_back(v * t); 
		W.push_back(w * t);
		x -= t;
		t &lt;&lt;= <span class="hljs-number">1</span>;
	}
	<span class="hljs-keyword">if</span>(x) V.push_back(v * x), W.push_back(w * x);
}

<span class="hljs-comment">/*
 *å½“ç„¶ä¹Ÿå¯ä»¥å†™åˆ°è¾“å…¥é‡Œé¢
 *çœ‹ä¸ªäººå–œå¥½
*/</span>
</div></code></pre>
<h3 id="æ¨¡å‹-2">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> , <span style="color: red;">æ•°é‡</span>ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">x[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span><br>
é—®æœ€å¤šä½¿èƒŒåŒ…å®¹çº³ä¸‹å¤šå°‘ä»·å€¼çš„ç‰©å“</p>
<h3 id="å¤„ç†æ–¹å¼-2">å¤„ç†æ–¹å¼</h3>
<p>ç”¨äºŒè¿›åˆ¶æ‹†åˆ†æŠŠå¤šé‡èƒŒåŒ…å˜æˆ01èƒŒåŒ…
å¾ªç¯æœ€å¤–å±‚æŒ‰é¡ºåºæšä¸¾ç‰©å“ï¼Œè¡¨ç¤ºè¿™æ˜¯å‰å‡ ä¸ªç‰©å“ï¼Œä¸ºç¬¬ä¸€ç»´ä¿¡æ¯ã€‚<br>
æœ€å†…å±‚<span style="color: red;">æ­£åº</span>(éœ€è¦å‡ºç°ä¸€ä¸ªç‰©å“å› æ€§ä»·æ¯”é«˜åœ¨ä¸€è½®é‡Œé¢ä½¿ç”¨å¤šæ¬¡çš„æƒ…å†µ)æšä¸¾å®¹ç§¯ã€‚</p>
<h3 id="ç¨‹åº-2">ç¨‹åº</h3>
<pre><code class="language-cpp"><div><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) {
	<span class="hljs-keyword">int</span> x = inputInt(), v = inputInt(), w = inputInt();
	Manage(x, v, w);
}
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; V.size(); i ++ ) {
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = v[i]; j &lt;= V; j ++ ) {
		dp[j] = MAX(dp[j], dp[j - V[i] + W[i]);
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜-2">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720101513353.png); height: 930px; width: 810px; border-radius:15px;" href="https://vjudge.net/contest/447638#problem/L"> </a>
<br><br>
è¿™æ˜¯ä¸€ä¸ª<span style="color: red;">æ–¹æ¡ˆæ•°ç±»</span>çš„èƒŒåŒ…dpé—®é¢˜<br>
é¦–å…ˆå°±æ˜¯å’Œå¤šé‡èƒŒåŒ…ä¸€æ ·è¦äºŒè¿›åˆ¶æ‹†åˆ†ä¸€ä¸‹<br>
æ–¹æ¡ˆæ•°åœ¨èšåˆæ—¶ï¼Œç±»ä¼¼äºé€’æ¨ç»å…¸é¢˜çš„çˆ¬æ¥¼æ¢¯é—®é¢˜<br>
èšåˆæ–¹æ¡ˆæ•°å¾—åˆ°æœ€ç»ˆå€¼<br><br>
åœ¨è¿™é‡Œæˆ‘ä»¬èšåˆæ–¹æ¡ˆæ•°æ—¶å°±æ˜¯èƒŒåŒ…çš„ä¸­å¿ƒè½¬ç§»æ–¹ç¨‹æ”¹ç¼–ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo>âˆ’</mo><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[j] += dp[j - v[i]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]]</span></span></span></span></p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>, M = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;
<span class="hljs-keyword">int</span> a[N], c[N];
<span class="hljs-keyword">int</span> dp[M];

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">int</span> n, m;
        <span class="hljs-keyword">while</span> ( <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) == <span class="hljs-number">2</span> &amp;&amp; n || m ) {
                <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cost; <span class="hljs-comment">// è½¬æ¢è¾“å…¥ï¼šäºŒè¿›åˆ¶è½¬æ¢</span>
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) a[i] = inputInt();
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) {
                        c[i] = inputInt();
                        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= c[i]; k &lt;&lt;= <span class="hljs-number">1</span> ) {
                                c[i] -= k;
                                cost.push_back ( k * a[i] );
                        }
                        <span class="hljs-keyword">if</span>(c[i]) cost.push_back ( c[i] * a[i] );
                }

                <span class="hljs-comment">// å¼€å§‹å¤šé‡èƒŒåŒ…</span>
                MEM(dp, <span class="hljs-number">0</span>); dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">// åˆå§‹åŒ–ï¼š0å°±æ˜¯éƒ½ä¸æ‹¿ï¼Œæœ‰è¿™ä¹ˆä¸€ç§æ‹¿æ³•</span>
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cost.size(); i ++ ) {
                        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = m; j &gt;= cost[i]; j --) {
                                dp[j] += dp[j - cost[i]]; <span class="hljs-comment">// é›†åˆå‰é¢çš„æ–¹æ¡ˆæ•°</span>
                        }
                }

                <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i ++ ) res += dp[i] != <span class="hljs-number">0</span>;
                outInt(res); <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="ç²¾å‡†è£…æ»¡çš„èƒŒåŒ…">ç²¾å‡†è£…æ»¡çš„èƒŒåŒ…</h2>
<p>å†™æ³•å’Œä¸Šé¢˜å‡ ä¹ä¸€æ ·ï¼Œéƒ½æ˜¯èšåˆæ–¹æ¡ˆæ•°ï¼Œç„¶åå¯¹æ¯ä¸€ä¸ªå­é—®é¢˜ï¼ˆå°å®¹é‡ï¼‰åˆ†ææ˜¯å¦æœ‰æ–¹æ¡ˆ</p>
<h2 id="åˆ†ç»„èƒŒåŒ…">åˆ†ç»„èƒŒåŒ…</h2>
<h3 id="æ¨¡å‹-3">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> , <span style="color: red;">ç‰©å“è¢«åˆ†æˆå‡ ç»„ï¼Œæ¯ç»„çš„ç‰©å“åªèƒ½é€‰ä¸€ä¸ªæ”¾è¿›èƒŒåŒ…</span><br>
é—®æœ€å¤šä½¿èƒŒåŒ…å®¹çº³ä¸‹å¤šå°‘ä»·å€¼çš„ç‰©å“</p>
<h3 id="å¤„ç†æ–¹å¼-3">å¤„ç†æ–¹å¼</h3>
<p>ä»¥ç»„ä¸ºå¤–éƒ¨éå†ï¼Œä¸€ç»„æŒ‘å–ä¸€ä¸ªï¼ˆç»„å·ä¸å½“å‰æšä¸¾ç»„ç›¸åŒçš„ï¼‰ï¼Œä»¥<spans style="color: red;">ä½“ç§¯ä¸ºç¬¬äºŒå±‚å¾ªç¯ï¼Œä»¥ç‰©å“ä¸ºç¬¬ä¸‰å±‚å¾ªç¯</span>ï¼Œè¿™æ ·åœ¨åŠ äº†ä¸€ä¸ªç‰¹åˆ¤ä¹‹åå¯ä»¥<span style="color: red;">ä¿è¯æ¯ä¸€ç»„å†…çš„ç‰©å“æœ€å¤šæœ‰ä¸€ä¸ªè¢«åŠ å…¥èƒŒåŒ…</span></p>
<h3 id="ç¨‹åº-3">ç¨‹åº</h3>
<pre><code class="language-cpp"><div><span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> group = <span class="hljs-number">1</span>; group &lt;= groups; group ++ ) {
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j -- ) {
		<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i ++ ) {
			<span class="hljs-keyword">if</span> ( gp[i] == group &amp;&amp; j &gt;= v[i] ) dp[j] = MAX(dp[j], dp[j - v[i]] + w[i]);
		}
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜-3">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720161804136.png); height: 750px; width: 760px; border-radius:15px;" href="https://www.luogu.com.cn/problem/P1757"> </a>
<br><br></p>
<p>å°±åƒä¸Šé¢è¯´çš„é‚£æ ·ï¼Œè¿™é‡Œç»™äº†ç‰©å“ä½“ç§¯ï¼Œä»·å€¼ï¼Œç»„ç¼–å·ï¼Œ æˆ‘ä»¬å°±åªéœ€è¦ç…§ç€è¿™ä¸ªé¡ºåºæ¥å†™å³å¯</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> v[<span class="hljs-number">1005</span>], w[<span class="hljs-number">1005</span>], s[<span class="hljs-number">1005</span>];<span class="hljs-comment">//ç‰©å“å ä½“ç§¯ï¼Œä»·å€¼ï¼Œæ‰€å ç»„æ•°</span>

<span class="hljs-keyword">int</span> nSet = <span class="hljs-number">0</span>;<span class="hljs-comment">//æœ€å¤šçš„ç»„æ•°</span>
<span class="hljs-keyword">int</span> dp[<span class="hljs-number">1005</span>];

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">int</span> m, n;
    <span class="hljs-built_in">cin</span> &gt;&gt; m &gt;&gt; n;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
        <span class="hljs-built_in">cin</span> &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i], nSet = max(nSet, s[i]);<span class="hljs-comment">//æ‰¾å‡ºæšä¸¾ç»„æ•°çš„èŒƒå›´</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> <span class="hljs-built_in">set</span> = <span class="hljs-number">1</span>; <span class="hljs-built_in">set</span> &lt;= nSet; <span class="hljs-built_in">set</span>++) <span class="hljs-comment">//æšä¸¾ç»„</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; j--) <span class="hljs-comment">//æšä¸¾ä½“ç§¯</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n;i++) <span class="hljs-comment">//æšä¸¾ç‰©å“ï¼ˆè¦æ”¾åœ¨æœ€é‡Œé¢ï¼Œä¿è¯æ¯ä¸€ç»„å†…çš„ç‰©å“æœ€å¤šæœ‰ä¸€ä¸ªè¢«åŠ å…¥èƒŒåŒ…ï¼‰</span>
                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-built_in">set</span> &amp;&amp; j &gt;= v[i])
                    dp[j] = max(dp[j], dp[j - v[i]] + w[i]);
    
    <span class="hljs-built_in">cout</span> &lt;&lt; dp[m] &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="äºŒç»´è´¹ç”¨">äºŒç»´è´¹ç”¨</h2>
<h3 id="æ¨¡å‹-4">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œ<span style="color: red;">æœ€å¤§æ‰¿é‡</span>ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œ <span style="color: red;">è´¨é‡</span>ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">m[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>
é—®æœ€å¤šä½¿èƒŒåŒ…å®¹çº³ä¸‹å¤šå°‘ä»·å€¼çš„ç‰©å“</p>
<blockquote>
<p>ä¸€èˆ¬æ˜¯è¿™ç±»è´¨é‡é—®é¢˜ï¼Œä¸è¿‡æœ‰å¾ˆå¤šçš„è¾ƒéš¾çš„é¢˜éƒ½ä¼šå°†ç¬¬äºŒç»´è´¹ç”¨æ”¾å¾—å¾ˆéšæ™¦</p>
</blockquote>
<h3 id="çŠ¶æ€è¡¨ç¤º">çŠ¶æ€è¡¨ç¤º</h3>
<p>æ­¤æ—¶çŠ¶æ€ä¹Ÿè¦å˜åŒ–ï¼Œç”±<span style="color: red;">ä¸¤ç»´åšä¸‹æ ‡</span>æ–¹ä¾¿ç›´æ¥æŸ¥åˆ°å¹¶åˆ©ç”¨è¿™ä¸ªæœ€ä¼˜è§£</p>
<h3 id="å¤„ç†æ–¹å¼-4">å¤„ç†æ–¹å¼</h3>
<p>ä¸01èƒŒåŒ…ä¸€æ ·ï¼Œå¾ªç¯å¤–å±‚æšä¸¾ç‰©å“ï¼Œå†…å±‚å»ºç«‹çº¦æŸå¾ªç¯</p>
<h3 id="ç¨‹åº-4">ç¨‹åº</h3>
<pre><code class="language-cpp"><div><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxV = <span class="hljs-number">100</span>, maxM = <span class="hljs-number">100</span>;
<span class="hljs-keyword">int</span> dp[maxV][maxM];

<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) {
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = V; j &gt;= v[i]; j -- ) {
		<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> k = M; k &gt;= m[i]; k -- ) {
			dp[j][k] = MAX(dp[j][k], dp[j - v[i]][k - m[i]] + w[i]);
		}
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜-4">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720165842590.png); height: 800px; width: 740px; border-radius:15px;" href="https://www.luogu.com.cn/problem/P1507"> </a>
<br><br>
è§£æ³•ä¸Šé¢çš„ç¨‹åºå‡ ä¹æ²¡ä»€ä¹ˆåŒºåˆ«</p>
<h2 id="æ··åˆèƒŒåŒ…">æ··åˆèƒŒåŒ…</h2>
<h3 id="æ¨¡å‹-5">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œ <span style="color: red;">æœ‰çš„ç‰©å“åªèƒ½æ‹¿ä¸€ä¸ªï¼Œæœ‰çš„ç‰©å“å¯ä»¥æ‹¿å¥½å‡ ä¸ªï¼Œä¹Ÿæœ‰çš„ç‰©å“å¯ä»¥æ‹¿ä»»æ„ä¸ª</span></p>
<h3 id="å¤„ç†æ–¹å¼-5">å¤„ç†æ–¹å¼</h3>
<p>ç‰©å“è¢«åˆ†ä¸º<span style="color: red;">ä¸¤ä¸ªéå†é¡ºåº</span>ï¼Œä¸€ä¸ªæ˜¯ä»¥å¤šé‡èƒŒåŒ…åŒ–æˆçš„01èƒŒåŒ…å’ŒåŸ01èƒŒåŒ…çš„é¡ºåºï¼Œä¸€ä¸ªæ˜¯å®Œå…¨èƒŒåŒ…çš„é¡ºåº</p>
<h3 id="ç¨‹åº-5">ç¨‹åº</h3>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> maxV = <span class="hljs-number">1000</span>;
<span class="hljs-keyword">int</span> id[<span class="hljs-number">10000</span>]; <span class="hljs-comment">// æ ‡è®°ï¼Œ0ä¸º01èƒŒåŒ…ï¼Œ1ä¸ºå®Œå…¨èƒŒåŒ…</span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Manage</span><span class="hljs-params">()</span></span>{
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i ++ ) {
		<span class="hljs-keyword">if</span>() {} <span class="hljs-comment">// è‹¥å¤šé‡æˆ–è€…01å°±äºŒè¿›åˆ¶æ‹†åˆ†ä¸€ä¸‹</span>
		<span class="hljs-keyword">else</span> {} <span class="hljs-comment">// è‹¥ä¸æ˜¯å°±è‡ªå·±å¼€ä¸€ä¸ªï¼Œä¸¤è€…åšå¥½åŒºåˆ†æ ‡è®°</span>
	}
}



<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) {
	<span class="hljs-keyword">if</span> ( id[i] ) {
		<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = v[i]; j &lt;= V; j ++ ) { 
			dp[j] = MAX(dp[j], dp[j - v[i]] + w[i]);
		}
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = V; j &gt;= v[i]; j -- ) {
			dp[j] = AMX(dp[j], dp[j - v[i]] + w[i]);
		}
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜-5">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720173920720.png); height: 850px; width: 740px; border-radius:15px;" href="https://www.luogu.com.cn/problem/P1833"> </a>
<br><br></p>
<p>ä¸ä¸Šé¢ä¸€æ ·ï¼Œå°±æ˜¯çœ‹å¦‚ä½•å»åˆ’åˆ†ç‰©å“ï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚ä¸€ä¸ª01èƒŒåŒ…éƒ¨åˆ†ï¼Œä¸€ä¸ªå®Œå…¨èƒŒåŒ…éƒ¨åˆ†ã€‚<br>
åˆ’åˆ†ä¹‹åçš„ç‰©å“ä¹Ÿè¦è®°å¾—<span style="color: red;">æ ‡è®°</span></p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> T;
<span class="hljs-keyword">int</span> N;
<span class="hljs-keyword">int</span> t[<span class="hljs-number">100005</span>], w[<span class="hljs-number">100005</span>], flag[<span class="hljs-number">100005</span>];<span class="hljs-comment">//æ•²è¿›å»çš„æ¯ç§èŠ±çš„ç”¨æ—¶ã€æ»¡è¶³æ„Ÿã€flag</span>
<span class="hljs-keyword">int</span> manaT[<span class="hljs-number">100005</span>], manaW[<span class="hljs-number">100005</span>], manaFlag[<span class="hljs-number">100005</span>];<span class="hljs-comment">//ç»„åˆåçš„</span>
<span class="hljs-keyword">int</span> cnt = <span class="hljs-number">1</span>;<span class="hljs-comment">//ç»„åˆåçš„ç»„æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">manage</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)
    {
        <span class="hljs-keyword">if</span> (flag[i])<span class="hljs-comment">//è‹¥01æˆ–å¤šé‡å°±äºŒè¿›åˆ¶ä¸€ä¸‹</span>
        {
            <span class="hljs-keyword">int</span> x = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">while</span> (flag[i] &gt;= x)
            {
                manaT[cnt] = t[i] * x;
                manaW[cnt] = w[i] * x;
                manaFlag[cnt++] = <span class="hljs-number">1</span>;<span class="hljs-comment">//01ä¸å¤šé‡ç‰©å“æ ‡è®°ä¸º1</span>
                flag[i] -= x;
                x &lt;&lt;= <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">if</span> (flag[i])
                manaT[cnt] = t[i] * flag[i], manaW[cnt] = w[i] * flag[i], manaFlag[cnt++] = <span class="hljs-number">1</span>;
        }

        <span class="hljs-keyword">else</span><span class="hljs-comment">//è‹¥å®Œå…¨å°±è‡ªå·±å¼€ä¸€ä¸ª</span>
        {
            manaT[cnt] = t[i];
            manaW[cnt] = w[i];
            manaFlag[cnt++] = <span class="hljs-number">0</span>;<span class="hljs-comment">//å®Œå…¨ç‰©å“æ ‡è®°ä¸º0</span>
        }
    }
}
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">int</span> h1, m1, h2, m2;
    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:%d%d:%d&quot;</span>, &amp;h1, &amp;m1, &amp;h2, &amp;m2);
    T = h2 * <span class="hljs-number">60</span> + m2 - h1 * <span class="hljs-number">60</span> - m1;<span class="hljs-comment">//è®¡ç®—æ€»æ—¶é—´ï¼ˆèƒŒåŒ…æ€»å®¹é‡ï¼‰</span>

    <span class="hljs-built_in">cin</span> &gt;&gt; N;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)
        <span class="hljs-built_in">cin</span> &gt;&gt; t[i] &gt;&gt; w[i] &gt;&gt; flag[i];
    manage();

    <span class="hljs-keyword">int</span> dp[T + <span class="hljs-number">10</span>] = {<span class="hljs-number">0</span>};<span class="hljs-comment">//dp[i]è¡¨ç¤ºåœ¨å‰iæ—¶é—´è·å–æœ€å¤§æ»¡è¶³æ„Ÿ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; cnt; i++)
    {
        <span class="hljs-comment">//ä¸‹é¢æ˜¯ä¸‰ç§èƒŒåŒ…ç‰©å“çš„ä¸åŒé€’æ¨æ“ä½œ</span>
        <span class="hljs-keyword">if</span> (manaFlag[i])<span class="hljs-comment">//01ä¸å¤šé‡</span>
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = T; j &gt;= manaT[i]; j--)
                dp[j] = max(dp[j], dp[j - manaT[i]] + manaW[i]);
        }
        <span class="hljs-keyword">else</span><span class="hljs-comment">//å®Œå…¨</span>
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = manaT[i]; j &lt;= T; j++)
                dp[j] = max(dp[j], dp[j - manaT[i]] + manaW[i]);
        }
    }
    
    <span class="hljs-built_in">cout</span> &lt;&lt; dp[T] &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="æœ‰ä¾èµ–æ€§ç‰©å“çš„èƒŒåŒ…">æœ‰ä¾èµ–æ€§ç‰©å“çš„èƒŒåŒ…</h2>
<h3 id="æ¨¡å‹-6">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œ <span style="color: red;">è¿™äº›ç‰©å“ä¸­æœ‰ä¸€äº›ä¾èµ–å…³ç³»ï¼Œå¦‚æœè£…äº†æŸæ ·ä¸œè¥¿ï¼Œä¹Ÿå¿…é¡»è£…å¦å¤–ä¸€æ ·ä¸œè¥¿</span>
é—®æœ€å¤šä½¿èƒŒåŒ…å®¹çº³ä¸‹å¤šå°‘ä»·å€¼çš„ç‰©å“</p>
<h3 id="å¤„ç†æ–¹å¼-6">å¤„ç†æ–¹å¼</h3>
<p>å…ˆé¢„å¤„ç†ä¸€ä¸‹ï¼Œå°†åŒä¾èµ–æ€§ç‰©å“åˆ†ä¸ºä¸€ç»„ï¼Œå»ºç«‹<span style="color: red;">ä¸‹æ ‡å…³ç³»</span>ï¼ˆä¸€èˆ¬å¯ä»¥è®©è¢«ä¾èµ–ç‰©å“ä½œä¸º0ï¼Œä¾èµ–åˆ«ç‰©å“ a çš„ç‰©å“ x ä½œä¸º a æ•°ç»„åé¢çš„æ­£æ•°ä¸‹æ ‡ï¼‰ã€‚<br>
ç„¶ååœ¨é€‰æ‹©ç‰©å“æ—¶ï¼Œå…ˆåªé€‰æ‹©è¢«ä¾èµ–ç‰©å“ï¼Œç„¶åæ ¹æ®ä»·å€¼è´¡çŒ®å†³å®šæ˜¯å¦è¦é€‰ä¾èµ–è¿™ä¸ªç‰©å“çš„ç‰©å“</p>
<h3 id="ç¨‹åº-6">ç¨‹åº</h3>
<p>è¿™ä¸ªä¸å¥½è¡¨ç¤ºï¼Œè¯¦è§é¢˜ç›®ä¸ä»£ç </p>
<h3 id="ä¾‹é¢˜-6">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720190545335.png); height: 1150px; width: 650px; border-radius:15px;" href="https://www.luogu.com.cn/problem/P1064"> </a>
<br><br>
æŒ‰ä¸Šé¢è¯´çš„å¤„ç†æ–¹å¼<br>
æˆ‘ä»¬é¦–å…ˆåº”è¯¥å¯¹ç‰©ä»¶é¢„å¤„ç†ï¼šè®¾ç½®ä¸€ä¸ªä¸»å¯¼ä½ç½®ä¹Ÿå°±æ˜¯ [0]ï¼Œå¯¹é™„ä»¶è®¾ç½®[1]å’Œ[2]<br>
æˆ‘ä»¬ä¸ç”¨è€ƒè™‘æ˜¯ä¸æ˜¯ä¹°è¿™ä¸ªé™„ä»¶è¿å¸¦ç€ä¸»ä»¶ä¸€èµ·ä¹°ï¼Œè€Œæ˜¯åº”è¯¥è€ƒè™‘ä¹°è¿™ä¸ªä¸»ä»¶çš„æ—¶å€™è¦ä¸è¦ä¹°é™„ä»¶<br>
è¿™æ ·å°±æœ‰äº†ä¸€ä¸ªå¯æ“ä½œç©ºé—´å»å†³ç­–ï¼Œä¹°è¿™ä¸ªä¸»ä»¶é™„å¸¦çš„è¿™ä¸ªé™„ä»¶æ˜¯å¦ä¼šæ›´ä¼˜</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> v[<span class="hljs-number">100</span>][<span class="hljs-number">3</span>], w[<span class="hljs-number">100</span>][<span class="hljs-number">3</span>]; <span class="hljs-comment">//v[i][j]è¡¨ç¤ºç¬¬iå¥—ç‰©å“çš„å‰jä»¶çš„ä½“ç§¯ï¼Œw[i][j]è¡¨ç¤ºç¬¬iå¥—ç‰©å“çš„å‰jä»¶ä»·å€¼</span>
<span class="hljs-keyword">int</span> V;<span class="hljs-comment">//èƒŒåŒ…å®¹é‡</span>
<span class="hljs-keyword">int</span> n;<span class="hljs-comment">//ç‰©å“ä¸ªæ•°</span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   <span class="hljs-built_in">cin</span> &gt;&gt; V &gt;&gt; n;
   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n;i++)<span class="hljs-comment">//ä¼˜åŒ–ï¼šä¸»é™„ä»¶å¹¶ä¸ºä¸€ä¸ªç»„åˆï¼Œæ¯æ¬¡é‡åˆ°é™„ä»¶å°±å°†å®ƒæŒªåˆ°ä¸»ä»¶é‚£ä¸€ç»„</span>
   {
       <span class="hljs-keyword">int</span> a, b, c;
       <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; c;<span class="hljs-comment">//aè¡¨ç¤ºè¿™ä»¶ç‰©å“çš„ä½“ç§¯ï¼Œa*bè¡¨ç¤ºè¿™ä»¶ç‰©å“çš„ä»·å€¼ï¼Œcè¡¨è¿™ä»¶ç‰©å“çš„ä¸»ä»¶æƒ…å†µ</span>
       <span class="hljs-keyword">if</span>(!c)<span class="hljs-comment">//è‹¥ä¸ºä¸»ä»¶</span>
           v[i][<span class="hljs-number">0</span>] = a, w[i][<span class="hljs-number">0</span>] = a * b;
       <span class="hljs-keyword">else</span><span class="hljs-comment">//è‹¥ä¸ºé™„ä»¶</span>
       {
           <span class="hljs-keyword">if</span>(!w[c][<span class="hljs-number">1</span>])<span class="hljs-comment">//ä¸»ä»¶åé¢ç¬¬ä¸€ä¸ªæ²¡æœ‰è¢«å ï¼Œæ”¾åœ¨ç¬¬ä¸€ä¸ª</span>
               v[c][<span class="hljs-number">1</span>] = a, w[c][<span class="hljs-number">1</span>] = a * b;
           <span class="hljs-keyword">else</span><span class="hljs-comment">//è¢«å äº†ï¼Œæ”¾åœ¨ç¬¬äºŒä¸ª</span>
               v[c][<span class="hljs-number">2</span>] = a, w[c][<span class="hljs-number">2</span>] = a * b;
       }
   }

   <span class="hljs-keyword">int</span> dp[<span class="hljs-number">32010</span>];
   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n;i++)
   {
       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = V; j &gt;= v[i][<span class="hljs-number">0</span>] &amp;&amp; v[i][<span class="hljs-number">0</span>]; j--)<span class="hljs-comment">//ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹æ—¶é—´ï¼Œè®°ä½ï¼šé™„ä»¶æ˜¯æ²¡æœ‰è‡ªå·±çš„içš„ï¼ˆåœ°ä½å¥½ä½ï¼‰</span>
       {
           dp[j] = max(dp[j], dp[j - v[i][<span class="hljs-number">0</span>]] + w[i][<span class="hljs-number">0</span>]);<span class="hljs-comment">//åªé€‰ä¸»ä»¶</span>
           v[i][<span class="hljs-number">0</span>] + v[i][<span class="hljs-number">1</span>] &gt; j ?: dp[j] = max(dp[j], dp[j - v[i][<span class="hljs-number">0</span>] - v[i][<span class="hljs-number">1</span>]] + w[i][<span class="hljs-number">0</span>] + w[i][<span class="hljs-number">1</span>]);<span class="hljs-comment">//ä¹°ä¸»ä»¶ä¸ç¬¬ä¸€ä¸ªé™„ä»¶</span>
           v[i][<span class="hljs-number">0</span>] + v[i][<span class="hljs-number">2</span>] &gt; j ?: dp[j] = max(dp[j], dp[j - v[i][<span class="hljs-number">0</span>] - v[i][<span class="hljs-number">2</span>]] + w[i][<span class="hljs-number">0</span>] + w[i][<span class="hljs-number">2</span>]);<span class="hljs-comment">//ä¹°ä¸»ä»¶ä¸ç¬¬äºŒä¸ªé™„ä»¶</span>
           v[i][<span class="hljs-number">0</span>] + v[i][<span class="hljs-number">1</span>] + v[i][<span class="hljs-number">2</span>] &gt; j ?: dp[j] = max(dp[j], dp[j - v[i][<span class="hljs-number">0</span>] - v[i][<span class="hljs-number">1</span>] - v[i][<span class="hljs-number">2</span>]] + w[i][<span class="hljs-number">0</span>] + w[i][<span class="hljs-number">1</span>] + w[i][<span class="hljs-number">2</span>]);<span class="hljs-comment">//ä¹°ä¸»ä»¶ä¸ä¸¤ä¸ªé™„ä»¶</span>
       }
   }
   <span class="hljs-built_in">cout</span> &lt;&lt; dp[V] &lt;&lt; <span class="hljs-built_in">endl</span>;
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
<h2 id="æ³›åŒ–ç‰©å“èƒŒåŒ…">æ³›åŒ–ç‰©å“èƒŒåŒ…</h2>
<h3 id="æ¨¡å‹-7">æ¨¡å‹</h3>
<p>ç»™å®šä¸€ä¸ªèƒŒåŒ…ï¼Œå®¹é‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> ï¼Œä¹Ÿæœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“ä»·å€¼ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">w(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span> ï¼Œä½“ç§¯ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span><br>
<span style="color: red;">âš ï¸ï¼šå…¶ä¸­çš„ç‰©å“ä»·å€¼æ˜¯ä¸ªå‡½æ•°ï¼Œè¡¨ç¤ºä¼šéšæŸç§æƒ…å†µè€Œæ”¹å˜</span></p>
<h3 id="å¤„ç†æ–¹å¼-7">å¤„ç†æ–¹å¼</h3>
<p>ç‰©å“çš„ä»·å€¼æ²¡æœ‰ä¸€ä¸ªå›ºå®šçš„æ•°ç»„ï¼Œè€Œæ˜¯<span style="color: red;">è®¾ä¸€ä¸ªè®¡ç®—å‡½æ•°ï¼Œåœ¨ç‰¹å®šçš„æƒ…å†µç‰¹å®šä¼ å…¥å³å¯</span></p>
<h3 id="ç¨‹åº-7">ç¨‹åº</h3>
<pre><code class="language-cpp"><div><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getW</span> <span class="hljs-params">( <span class="hljs-keyword">int</span> i )</span> </span>{
	<span class="hljs-keyword">return</span> w[i] * <span class="hljs-number">10</span>;
}
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getV</span> <span class="hljs-params">( <span class="hljs-keyword">int</span> i )</span> </span>{
	<span class="hljs-keyword">return</span> v[i] * <span class="hljs-number">10</span>;
}
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ ) {
	<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = V; j &gt;= v[i]; j -- ) {
		dp[j] = MAX ( dp[j], dp[j - getV ( i )] + getW ( i ) );
	}
}
</div></code></pre>
<h3 id="ä¾‹é¢˜-7">ä¾‹é¢˜</h3>
<p><a style="display: block; background-image:url(https://img-blog.csdnimg.cn/20210720193523990.png); height: 1000px; width: 750px; border-radius:15px;" href="https://www.luogu.com.cn/problem/P1417"> </a>
<br><br></p>
<p>ä»¤ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span> è¡¨ç¤ºèœ<br>
è®¾è®¡ä¸€ä¸‹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">v[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ï¼Œå¾—åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi>t</mi><mtext>ï¼Œ</mtext><mtext>â€…â€Š</mtext><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi>a</mi><mo>âˆ’</mo><mi>j</mi><mo>âˆ—</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">v[i] = d[i].t ï¼Œ\; w[i] = d[i].a - j * d[i].b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">.</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">.</span><span class="mord mathnormal">b</span></span></span></span><br>
æ‰€ä»¥å¾ªç¯å¤„ç†æ–¹å¼å°±æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo>âˆ’</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi>t</mi><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi>a</mi><mo>âˆ’</mo><mi>j</mi><mo>âˆ—</mo><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">.</mi><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dp[j] = max(dp[j], dp[j-d[i].t]+d[i].a-j*d[i].b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">.</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">.</span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></p>
<pre><code class="language-cpp"><div><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">dish</span>//èœçš„<span class="hljs-title">a</span>,<span class="hljs-title">b</span>å’Œç”¨æ—¶<span class="hljs-title">t</span>
{</span>
    ll a, b, t;
    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (node a, node b) {
	    <span class="hljs-keyword">return</span> a.b * b.t &gt; b.b * a.t;
    }
} d[<span class="hljs-number">100</span>];

ll T, n;
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">cin</span> &gt;&gt; T &gt;&gt; n;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
        <span class="hljs-built_in">cin</span> &gt;&gt; d[i].a;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
        <span class="hljs-built_in">cin</span> &gt;&gt; d[i].b;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
        <span class="hljs-built_in">cin</span> &gt;&gt; d[i].t;
    sort(d + <span class="hljs-number">1</span>, d + <span class="hljs-number">1</span> + n, cmp);

    ll dp[<span class="hljs-number">100005</span>] = {<span class="hljs-number">0</span>};
    ll max1 = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++){
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = T; j &gt;= d[i].t; j--){
            dp[j] = max(dp[j], dp[j - d[i].t] + d[i].a - j * d[i].b);<span class="hljs-comment">//æ­£å¸¸01èƒŒåŒ…ä»·å€¼æ¨¡æ‹Ÿï¼Œè¦æ³¨æ„æ—¶é—´æ˜¯j</span>
            max1 = max(max1, dp[j]);<span class="hljs-comment">//ç”¨çš„æ˜¯è¯¥æ–¹æ¡ˆä¸­æœ€åçš„æ—¶é—´ï¼Œä¸ä¸€å®šæ—¶é—´è¶Šé åè¶Šå¥½</span>
        }
    }
    <span class="hljs-built_in">cout</span> &lt;&lt; max1 &lt;&lt; <span class="hljs-built_in">endl</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</div></code></pre>
    </body>
