---
layout: article
title: æ•°ä½DP
subtitle: åœ¨æ•°å­—ä¸Šè·‘DPï¼ŸğŸ¤”
categories: åŠ¨æ€è§„åˆ’
tags: [åŠ¨æ€è§„åˆ’]
aside:
  toc: true
sidebar:
  nav: docs-en
---

<head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
	<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
	</style>
        <style>
		.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
	</style>
</head>
<body class="vscode-body vscode-light">
        <blockquote>
<p><strong>å¯¼å¼•é—®é¢˜ï¼š</strong><br>
<span style="color: red;">é¢˜ç›®æè¿°</span><br>
æœ‰ä¸€ä¸ª1åˆ°nçš„æ•°å­—åºåˆ—ï¼Œè¿™ä¸ªåºåˆ—å¯¹åº”æŸç§å€¼xï¼Œå¦‚æœå½“å‰æ•°å­—åºåˆ—åŒ…å«å­åºåˆ—&quot;49&quot;ï¼Œxå°±å¢åŠ ä¸€ä¸ªç‚¹ã€‚ç°åœ¨å·²çŸ¥æ•°å­—Nï¼Œè¯·é—®è¿™ä¸ªåºåˆ—æœ€ç»ˆå€¼æ˜¯å¤šå°‘<br>
<span style="color: red;">Input</span><br>
2<br>
50<br>
500<br>
<span style="color: red;">Output</span><br>
1<br>
15</p>
</blockquote>
<p>åœ¨ä¿¡å¥¥ä¸­ï¼Œæœ‰ä¸€ç±»<span style="color: red;">ä¸æ•°ä½æœ‰å…³çš„åŒºé—´ç»Ÿè®¡é—®é¢˜</span>ï¼Œè¿™ç±»é—®é¢˜å¾€å¾€å…·æœ‰æ¯”è¾ƒæµ“åšçš„æ•°å­¦å‘³é“ï¼Œæ— æ³•æš´åŠ›æ±‚è§£ï¼ˆ<span style="color:red;">TLE</span>ï¼‰,<span style="color:red;">éœ€è¦åœ¨æ•°ä½ä¸Šè¿›è¡Œé€’æ¨</span>(çŠ¶æ€è½¬ç§»)ç­‰æ“ä½œã€‚</p>
<h2 id="åŸºç¡€çŸ¥è¯†">åŸºç¡€çŸ¥è¯†</h2>
<h3 id="æ»¡è¶³å‡æ³•">æ»¡è¶³å‡æ³•</h3>
<p>å¦‚æœ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>L</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(L, R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span> è¡¨ç¤ºåŒºé—´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>L</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[L, R]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">]</span></span></span></span> ä¹‹é—´çš„ç­”æ¡ˆ<br>
åˆ™ï¼š<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>L</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>L</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(L, R) = f(0, R) - f(0, L - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
<blockquote>
<p>æœ‰ç‚¹åƒå‰ç¼€å’Œçš„æ€æƒ³</p>
</blockquote>
<h3 id="é«˜ä½æšä¸¾">é«˜ä½æšä¸¾</h3>
<p>å¯¹äºä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\lt n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æ•°ï¼Œä»é«˜ä½åˆ°ä½ä½è‚¯å®šä¼šå‡ºç° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\lt n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> çš„æŸä¸€ä½<br>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.1600em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>ä¾‹å¦‚ï¼šåè¿›åˆ¶æ•°</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>n</mi><mo>=</mo><mn>58</mn><mtext>â€…â€Š</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>=</mo><mn>49</mn><mtext>â€…â€Š</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>æ­¤æ—¶</mtext><mi>x</mi><mtext>çš„åä½</mtext><mo>&lt;</mo><mi>n</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>=</mo><mn>51</mn><mtext>â€…â€Š</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>æ­¤æ—¶</mtext><mi>x</mi><mtext>çš„ä¸ªä½</mtext><mo>&lt;</mo><mi>n</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
ä¾‹å¦‚ï¼šåè¿›åˆ¶æ•°&amp;n=58\; &amp;\\
&amp;x=49\; &amp;æ­¤æ—¶xçš„åä½\lt n\\
&amp;x =51\; &amp;æ­¤æ—¶xçš„ä¸ªä½\lt n
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6000000000000005em;vertical-align:-1.5500000000000007em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">ä¾‹å¦‚ï¼šåè¿›åˆ¶æ•°</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">58</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">49</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">51</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">æ­¤æ—¶</span><span class="mord mathnormal">x</span><span class="mord cjk_fallback">çš„åä½</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">n</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">æ­¤æ—¶</span><span class="mord mathnormal">x</span><span class="mord cjk_fallback">çš„ä¸ªä½</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="å‰ç¼€çš„ç”¨é€”">å‰ç¼€çš„ç”¨é€”</h3>
<p>ä»¥ 1234 ä¸ºä¾‹ï¼Œ<span style="color: red;">æ§åˆ¶ä¸Šç•Œæšä¸¾</span><br>
æ¯”ä»–å°çš„ä¸€å…±æœ‰ï¼š<br>
<span style="color: red;">0</span>000 - <span style="color: red;">0</span>999 ï¼š1000Â Â Â Â ä¸ª<br>
1<span style="color: red;">0</span>00 - 1<span style="color: red;">1</span>99 ï¼š 2 * 100ä¸ª<br>
12<span style="color: red;">0</span>0 - 12<span style="color: red;">2</span>9 ï¼š 3 * 10Â Â ä¸ª<br>
123<span style="color: red;">0</span> - 123<span style="color: red;">3</span> ï¼š 4 * 1Â Â Â Â ä¸ª<br>
<span style="color: red;">1234(æœ¬èº«)</span> Â Â ï¼š 1Â Â Â Â Â Â Â Â Â ä¸ª</p>
<h2 id="åŸºæœ¬æ€æƒ³å’Œæ–¹æ³•">åŸºæœ¬æ€æƒ³å’Œæ–¹æ³•</h2>
<h3 id="é¢„å¤„ç†">é¢„å¤„ç†</h3>
<p>ä»¥ä¸Šé¢˜ä¸ºä¾‹ï¼Œå®šä¹‰dpæ•°ç»„çš„å«ä¹‰å¦‚ä¸‹<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span> : é•¿åº¦ä¸ºiï¼Œä¸”ä¸å«æœ‰49<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> : é•¿åº¦ä¸ºiï¼Œä¸”ä¸å«æœ‰49ï¼Œä¸”æœ€é«˜ä½ä¸º9<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span> : é•¿åº¦ä¸ºiï¼Œä¸”å«æœ‰49</p>
<h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹">çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>1</mn><mo separator="true">;</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">dp[0][0] = 1; dp[0][1] = dp[0][2] = 0;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">;</span></span></span></span><br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>10</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo>âˆ’</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][0] = 10 * dp[i - 1][0] - dp[i - 1][1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span>  // åœ¨å‰é¢åŠ 0ï½9çš„æ•°å­—ï¼Œå‡æ‰åœ¨9å‰é¢åŠ 4<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][1] = dp[i - 1][0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span> // æœ€é«˜ä½åŠ 9<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>=</mo><mn>10</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">dp[i][2] = 10 * dp[i - 1][2] + dp[i - 1][1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> // åœ¨æœ¬æ¥å«æœ‰49çš„å‰é¢åŠ ä»»æ„æ•°ï¼Œæˆ–è€…åœ¨9å‰é¢åŠ 4
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">b[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> ä¿å­˜nçš„ç¬¬iä½çš„å€¼</p>
<h3 id="ç¨‹åºè®¾è®¡è®°å¿†åŒ–dfs">ç¨‹åºè®¾è®¡ï¼ˆè®°å¿†åŒ–DFSï¼‰</h3>
<p>é’ˆå¯¹å¯¼å¼•é—®é¢˜</p>
<pre><code class="language-cpp"><div><span class="hljs-comment">/*
is_max : ä¸Šç•Œï¼Œè¡¨ç¤º &quot;è¿™ä¸€ä½æšä¸¾æ•°å­—æ˜¯å¦è¾¾åˆ°äº†å½“å‰æ•°&quot;
is4 : ä¸Šä¸€ä½æ˜¯ä¸æ˜¯4
*/</span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">DFS</span> <span class="hljs-params">( ll n, <span class="hljs-keyword">bool</span> is4, <span class="hljs-keyword">bool</span> is_max )</span> </span>{
        <span class="hljs-keyword">if</span> ( !n ) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> ( !is_max &amp;&amp; dp[n][is4] != <span class="hljs-number">-1</span> ) <span class="hljs-keyword">return</span> dp[n][is4];
    
        ll res = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> m = is_max ? b[n] : <span class="hljs-number">9</span>;
        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= m; i ++ ) {
                <span class="hljs-keyword">if</span> ( !(is4 &amp;&amp; i == <span class="hljs-number">9</span>) ) res += DFS (n - <span class="hljs-number">1</span>, i == <span class="hljs-number">4</span>, is_max &amp;&amp; i == m );
                <span class="hljs-keyword">if</span> ( !is_max ) dp[n][is4] = res;
                <span class="hljs-keyword">return</span> res;
        }
}
</div></code></pre>
<h3 id="æ¨¡æ¿">æ¨¡æ¿</h3>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> dp[len][<span class="hljs-comment">/*çŠ¶æ€*/</span>], b[<span class="hljs-number">10</span>]; <span class="hljs-comment">// dpæ•°ç»„è¦æ ¹æ®å®é™…æƒ…å†µå†³å®šç”¨å‡ ç»´çš„æ•°ç»„ï¼Œbæ•°ç»„ç”¨æ¥ä¿å­˜æ•°å­—ä½</span>
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">DFS</span><span class="hljs-params">( <span class="hljs-keyword">int</span> pos, <span class="hljs-keyword">int</span> state, <span class="hljs-keyword">bool</span> is_max )</span> </span>{ <span class="hljs-comment">// å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ stateå‚æ•°çš„æ•°é‡</span>
        <span class="hljs-keyword">if</span> ( pos == <span class="hljs-number">0</span> ) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> ( !is_max &amp;&amp; ~dp[pos][state] ) <span class="hljs-keyword">return</span> dp[pos][state];
        <span class="hljs-keyword">int</span> end = is_max ? b[pos] : <span class="hljs-number">9</span>; <span class="hljs-comment">// å¦‚æœå‰é¢æ”¾æ»¡äº†å°±åªèƒ½å¾ªç¯åˆ° b[pos]ï¼Œå¦åˆ™åˆ°9</span>
        <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= end; i ++ ) {
            <span class="hljs-keyword">if</span> ( <span class="hljs-comment">/*æ»¡è¶³æŸç§æ¡ä»¶*/</span> ) res += DFS (pos - <span class="hljs-number">1</span>, state, is_max &amp;&amp; i == end ) ; <span class="hljs-comment">// æœ€åä¸€ä¸ªå‚æ•°ï¼šå‰é¢éƒ½æ”¾æ»¡ï¼Œæœ¬ä½åˆæœ€å¤§</span>
        }
        <span class="hljs-keyword">if</span> ( !is_max ) dp[pos][state] = res;
        <span class="hljs-keyword">return</span> res;
}
</div></code></pre>
<h3 id="è®¾è®¡æ€è·¯">è®¾è®¡æ€è·¯</h3>
<p>ä»¥æ¨¡æ¿ï¼šä¸å¯å‡ºç°äºŒä½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mi>Î²</mi></mrow><annotation encoding="application/x-tex">\alpha\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span></span></span></p>
<table>
        <tr>
                <th>å‚æ•°:</th><th colspan="2">å½“å‰æšä¸¾åˆ°äº†ç¬¬å‡ ä½ã€é«˜ä¸€ä½çš„æ•°æ˜¯å‡ ã€å‰é¢çš„æ•°æœ‰æ²¡æœ‰è´´è¾¹è¡Œèµ°(æœ€å¤§)</th><th>{</th>
        </tr>
        <tr>
                <td></td> <th>å‡ºå£</th><td>n = 0 æ—¶å³ä¸ºåˆå§‹å€¼ï¼Œæ„é€ ä¸€ä¸‹å€¼ä¸º1<br>è‹¥æ²¡æœ‰è´´è¾¹è¡Œèµ°ï¼Œä¸”è®°å½•è¯¥ç‚¹å°±èƒ½è¿”å›è®°å½•</td><td></td>
        </tr>
        <tr>
                <td></td> <th>ä¸»ä½“</th><td>è®¾ç½®ä¸€ä¸ªè¯¥ä½å¯æšä¸¾åˆ°çš„æœ€å¤§å€¼ï¼Œè‹¥è´´è¾¹è¡Œèµ°å°±1ï¼Œå¦åˆ™ä¸º9<br>ä»0å‘ä¸Šæšä¸¾æ•°å­—ï¼Œè‹¥æšä¸¾åˆ°ä¸Šä¸€ä½æ„é€ çš„ Î± å’Œè¿™ä¸€ä½çš„ Î² ï¼Œè·³è¿‡<br>å¦åˆ™ç»§ç»­å‘ä½ä½é€’å½’( n - 1, æšä¸¾åˆ°çš„æ•°ï¼Œåœ¨è¿™ä¸€ä½ä¸Šæ˜¯å¦ä¾ç„¶è´´è¾¹è¡Œèµ°)ç´¯åŠ res</td><td></td>
        </tr>
        <tr>
                <td></td> <th>è®°å½•</th><td>è‹¥ä¸è´´è¾¹å°±æ˜¯è®°å½•ä¸€ä¸‹ï¼ˆå› ä¸ºè‹¥éƒ½æ˜¯æœ€å¤§é‚£ä¹ˆåªæœ‰ä¸åŸæ•°ç›¸ç­‰è¿™ä¸€ç§æƒ…å†µï¼‰</td><td></td>
        </tr>
        <tr>
                <td></td> <th>è¿”å›</th><td>è¿”å›è®°å½•å†…å®¹</td><td></td>
        </tr>
        <tr>
                <th>}</th>
        </tr>
</table>
<h2 id="ä¾‹é¢˜">ä¾‹é¢˜</h2>
<blockquote>
<p><span style="color: red;">é¢˜ç›®æè¿°:</span><br>
ä¸ºäº†æ¶ˆé™¤å‡ºç§Ÿè½¦å¸æœºå’Œä¹˜å®¢çš„å¿ƒç†éšœç¢ï¼Œæ­å·äº¤ç®¡å±€å°†ç¡®ä¿æ¨å‡ºçš„å‡ºç§Ÿè½¦æ–°ç‰Œå·<span style="color: red">ä¸å«ä¸å‰åˆ©çš„æ•°å­—</span>ï¼ˆå«æœ‰4æˆ–62çš„å·ç ç§°ä¸ºä¸å‰åˆ©ï¼‰<br>
ä»»åŠ¡ï¼šå¯¹äºæ¯æ¬¡ç»™å‡ºçš„ä¸€ä¸ªç‰Œç…§åŒºé—´å·ï¼Œæ¨æ–­å‡ºäº¤ç®¡å±€ä»Šæ¬¡åˆè¦å®é™…ç»™å‡ºå¤šå°‘è¾†æ–°çš„å£«è½¦ä¸Šç‰Œç…§äº†<br>
<span style="color: red;">Input</span>:<br>
1 100<br>
0 0<br>
<span style="color: red;">Output</span>:<br>
80</p>
</blockquote>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> dp[<span class="hljs-number">10</span>][<span class="hljs-number">10</span>], b[<span class="hljs-number">10</span>];

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">DFS</span> <span class="hljs-params">( <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">bool</span> is_max )</span> </span>{

        <span class="hljs-keyword">if</span> ( !n ) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> ( !is_max &amp;&amp; dp[n][t] != <span class="hljs-number">-1</span> ) <span class="hljs-keyword">return</span> dp[n][t];

        <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> m = is_max ? b[n] : <span class="hljs-number">9</span>;
        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= m; i ++ ) {
                <span class="hljs-keyword">if</span> ( i != <span class="hljs-number">4</span> &amp;&amp; !(t == <span class="hljs-number">6</span> &amp;&amp; i == <span class="hljs-number">2</span>) ) 
                        res += DFS(n - <span class="hljs-number">1</span>, i, is_max &amp;&amp; i == m ); 
        }
        <span class="hljs-keyword">if</span> ( !is_max ) dp[n][t] = res;
        <span class="hljs-keyword">return</span> res;
}
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">solve</span> <span class="hljs-params">( <span class="hljs-keyword">int</span> x )</span> </span>{
        <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> ( len = <span class="hljs-number">0</span>; x; x /= <span class="hljs-number">10</span> ) b[++len] = x % <span class="hljs-number">10</span>;
        <span class="hljs-keyword">return</span> DFS(len, <span class="hljs-number">0</span>, <span class="hljs-literal">true</span>);
}
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">int</span> n, m;
        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dp));
        <span class="hljs-keyword">while</span> ( <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m, n &amp;&amp; m ) {
                <span class="hljs-built_in">cout</span> &lt;&lt; solve(m) - solve(n - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;
        }
}
</div></code></pre>
    </body>
