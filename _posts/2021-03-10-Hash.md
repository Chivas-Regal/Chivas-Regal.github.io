---
key: 2021-03-10-Hash
layout: article
title: Hash
subtitle: 把元素对应映射？🤔
categories: 数据结构
tags: [数据结构]
aside:
  toc: true
sidebar:
  nav: docs-en
---

# Hash及应用

>**任务：**  
>给定n个整数，请从小到大输出其中前m大的数  
>输入：每组测试数据有两行，第一行有两个整数n,m（0 < n, m < 1000000)，第二行有n个各不相同，且都处于区间[0, 1000000]的整数  
>输出：对每组测试数据按从小到大顺序输出前m大的数  
>**思想：桶排序**  
>将数据值与它的位置建立某种关系，使得存储完毕，则排序完毕  

>**加强版**  
>第二行包含n个各不相同，且都处于区间[-500000, 500000]  
>**再加强版**  
>如果整数允许相同怎么办  

## Hash表（散列表）基本原理
使用一个下标范围比较大（数据大小的五到十倍）的数组来存储元素，一般通过设计一个函数(Hash函数，即散列函数)，使得每个元素的关键字都与一个函数值（即数组下标）相对应，然后用该数组单元来存储对应元素。  
好处：O(1)  

## Hash函数构造：除余法
H(k) = k mod p （p一般选取适当大的素数）  

## Hash表简介--冲突
由于不能保证每个元素的关键字与函数值是一一对应的，因此很有可能出现如下情况：  
“对于不同的元素关键字，Hash函数计算出了相同的函数值”， 这就是产生了所谓的“冲突”  
换句话说，冲突就是Hash函数把不同的元素分在了相同的下标单元  

## Hash表简介--冲突解决
常用方法：线性探测再散列技术  
即：当h(k)位置已经储存有元素的时候，依次探查 (h(k) + i) mod S, i = 1, 2, 3...，直到找到空的储存单元为止，其中S为数组长度  
特别地，如果将数组扫描一圈仍未发现空单元，则说明Hash表已满，这会带来麻烦，但是该情况完全可以通过扩大数组范围来避免  

## Hash表简介--基本操作
Hash表初始化（0或-1或其它）  
哈希函数运算  
插入元素（包含冲突解决）  
定位（需考虑可能冲突的情况）  

## Hash小结 

### Hash函数评价标准：  
低冲突率， 易于编码  
### Hash函数特点：  
优点：数据存储和查找效率高（几乎是常数时间）  
缺点：消耗较多内存（内存很便宜~）  
### Hash主要应用：  
查找元素是否属于集合  
搜索中的状态表示  
